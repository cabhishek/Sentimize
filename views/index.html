{% extends 'layout.html' %}

{% block area %}
Dashboard
{% endblock %}

{% block head %}
{% endblock %}


{% block content %}
<h3 style="margin-top: -10px;">Leaders</h3>

<div class="demo-content-wide">
  <div class="table-responsive">
    <table class="table table-striped table-hover" style="text-align: center;">
      <thead>
        <tr>
          <th class="headrow strong">Rank</th>
          <th class="headrow strong">Symbol</th>
          <th class="headrow strong">Senti-Metric&reg;</th>
          <th class="headrow strong">Price</th>
          <th class="headrow strong">Bullish</th>
          <th class="headrow strong">Bearish</th>
          <th class="headrow strong">CAPS Rating</th>
          <th class="headrow strong">Open Ideas</th>
          <th class="headrow strong">Actions</th>
        </tr>
      </thead>
      <tbody>

          
          {% for row in data %}
            {{JSON.parse(row)}}
          {% endfor %}

        {% for row in data %}
          <tr>
            <td><strong>{{ row.rank }}</strong></td>
            <td>{{ row.symbol }}</td>
            <td>{{ row.sentimetric }}</td>
            <td>{{ row.price }}</td>
            <td>{{ row.bullish }}</td>
            <td>{{ row.bearish }}</td>
            <td>
              {% for star in row.cap_stars %}
                <span style="color: #f1c40f" class="fui-star-2"></span>
              {% endfor %}
              {% for star in row.non_cap_stars %}
                <span style="color: #bdc3c7" class="fui-star-2"></span>
              {% endfor %}
            </td>
            <td><span class="badge">{{ row.idea_num }}</span></td>
            <td><a class="btn btn-xs btn-info" href="/snapshot/{{ stock.symbol }}">Details</a></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>          
</div>
{% endblock %}
